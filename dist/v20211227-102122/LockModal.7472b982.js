import{_ as v,a as B,f as C,b}from"./index.86e9d70c.js";import{B as w,b as F}from"./index.f3cbd9f4.js";import{B as y,u as $}from"./useForm.05e0730a.js";import{u as L}from"./lock.3527c3c9.js";import{h as S}from"./header.e5da25ad.js";import{D as M,j as u,a2 as c,F as I,a3 as N,a9 as f,K as o,N as a,L as j,v as _,aU as R,aj as U}from"./vendor.2e1d877b.js";import"http://at.alicdn.com/t/font_2948274_sdqssf53jp.js";import"./useTimeout.534f4a33.js";import"./useWindowSizeFn.752f6aa7.js";import"./index.0fb85ddd.js";/* empty css               *//* empty css               *//* empty css                *//* empty css              *//* empty css                *//* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css                *//* empty css                */import"./index.cc73bee9.js";import"./index.d3318532.js";/* empty css               *//* empty css                */import"./uuid.4c14c5c2.js";import"./download.682bfe84.js";import"./index.280f14b7.js";const D=M({name:"LockModal",components:{BasicModal:w,BasicForm:y},setup(){const{t:e}=b(),{prefixCls:d}=B("header-lock-modal"),r=C(),l=L(),m=u(()=>{var s;return(s=r.getUserInfo)==null?void 0:s.realName}),[p,{closeModal:t}]=F(),[i,{validateFields:n,resetFields:g}]=$({showActionButtonGroup:!1,schemas:[{field:"password",label:e("layout.header.lockScreenPassword"),component:"InputPassword",required:!0}]});async function k(){const x=(await n()).password;t(),l.setLockInfo({isLock:!0,pwd:x}),await g()}const h=u(()=>{const{avatar:s}=r.getUserInfo;return s||S});return{t:e,prefixCls:d,getRealName:m,register:p,registerForm:i,handleLock:k,avatar:h}}}),P=["src"];function V(e,d,r,l,m,p){const t=c("BasicForm"),i=c("a-button"),n=c("BasicModal");return I(),N(n,U({footer:null,title:e.t("layout.header.lockScreen")},e.$attrs,{class:e.prefixCls,onRegister:e.register}),{default:f(()=>[o("div",{class:a(`${e.prefixCls}__entry`)},[o("div",{class:a(`${e.prefixCls}__header`)},[o("img",{src:e.avatar,class:a(`${e.prefixCls}__header-img`)},null,10,P),o("p",{class:a(`${e.prefixCls}__header-name`)},j(e.getRealName),3)],2),_(t,{onRegister:e.registerForm},null,8,["onRegister"]),o("div",{class:a(`${e.prefixCls}__footer`)},[_(i,{type:"primary",block:"",class:"mt-2",onClick:e.handleLock},{default:f(()=>[R(j(e.t("layout.header.lockScreenBtn")),1)]),_:1},8,["onClick"])],2)],2)]),_:1},16,["title","class","onRegister"])}var ue=v(D,[["render",V]]);export{ue as default};
