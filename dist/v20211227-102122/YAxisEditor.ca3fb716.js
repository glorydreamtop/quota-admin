import{D as O,bX as q,R as $,r as b,V as E,cl as I,A as h,cm as F,m as A,F as H,a3 as P,a9 as f,K as a,L as o,u as e,v as u,aJ as j,aU as V,bG as U,bE as J,ah as K,aH as M,am as X,aj as _,b0 as Q}from"./vendor.2e1d877b.js";/* empty css                *//* empty css                *//* empty css                */import{b as W,aE as Y,I as Z}from"./index.86e9d70c.js";const ee={class:"flex flex-col gap-1 children:whitespace-nowrap children:flex children:items-center w-30"},te={class:"w-3em text-justify mr-2"},ie={class:"min-w-3em text-justify mr-2"},se={class:"min-w-3em text-justify mr-2"},ae={class:"min-w-3em text-justify mr-2"},ne={class:"min-w-3em text-justify mr-2"},le={class:"min-w-3em text-justify mr-2"},oe={class:"min-w-3em text-justify mr-2"},ue={class:"min-w-3em text-justify mr-2"},de={class:"mt-2 flex gap-1"},ve=O({props:{chartConfig:null,idx:null},emits:["update","visibleChange"],setup(p,{expose:z,emit:C}){const d=p,{t:l}=W(),N=q.Group,S=q.Button,s=$({min:void 0,max:void 0,inverse:!1,offset:0,axisLine:{show:!0},position:"left",axisLabel:{formatter:"{value}"}}),c=b(0),B={left:"right",right:"left"},L=b("right");function y(n,t){if(n.target.value===""){s[t]=void 0;return}s[t]=parseFloat(n.target.value.replace(/[^\d|\.]/g,""))}const g=b(!1);function k(n){g.value=n}z({setVisible:k}),E(g,n=>{var t,i,m,x;if(n){if(d.idx===null){const[r,v]=I(d.chartConfig.yAxis,G=>G.position==="left"),w=r.length<v.length,D=(w?(i=(t=h(r))==null?void 0:t.offset)!=null?i:-40:(x=(m=h(v))==null?void 0:m.offset)!=null?x:-40)+40;F(s,{min:void 0,max:void 0,inverse:!1,offset:D,axisLine:{show:!0},position:w?"left":"right",axisLabel:{formatter:"{value}"}}),c.value=0}else{Object.assign(s,A(d.chartConfig.yAxis[d.idx]));const r=d.chartConfig.yAxis[d.idx].axisLabel.formatter;c.value=/pow/i.test(r)?parseInt(r.match(/\d+/i)[0]):0}L.value=B[s.position]}C("visibleChange",n)});function T(){var m,x,r,v;const[n,t]=I(d.chartConfig.yAxis,w=>w.position==="left"),i=s.position==="left";s.offset=(i?(x=(m=h(n))==null?void 0:m.offset)!=null?x:-40:(v=(r=h(t))==null?void 0:r.offset)!=null?v:-40)+40}function R(){const n=A(d.chartConfig);c.value>0?s.axisLabel.formatter=`pow${c.value}`:s.axisLabel.formatter="{value}",d.idx===null?n.yAxis.push(A(s)):Object.assign(n.yAxis[d.idx],s),C("update",n),k(!1)}return(n,t)=>(H(),P(e(Q),_(n.$attrs,{trigger:"click",visible:g.value,"onUpdate:visible":t[10]||(t[10]=i=>g.value=i),placement:L.value,destroyTooltipOnHide:""}),{content:f(()=>[a("div",ee,[a("div",null,[a("div",te,o(e(l)("quotaView.advance.axisSetting.yAxis.index")),1),a("span",null,o(e(Y)(p.idx)?p.chartConfig.yAxis.length+1:p.idx+1),1)]),a("div",null,[a("div",ie,o(e(l)("quotaView.advance.axisSetting.yAxis.min")),1),u(e(j),{size:"small",class:"!w-59px !min-w-59px",value:e(s).min,"onUpdate:value":t[0]||(t[0]=i=>e(s).min=i),placeholder:e(l)("common.auto"),onInput:t[1]||(t[1]=i=>y(i,"min"))},null,8,["value","placeholder"])]),a("div",null,[a("div",se,o(e(l)("quotaView.advance.axisSetting.yAxis.max")),1),u(e(j),{size:"small",class:"!w-59px !min-w-59px",value:e(s).max,"onUpdate:value":t[2]||(t[2]=i=>e(s).max=i),placeholder:e(l)("common.auto"),onInput:t[3]||(t[3]=i=>y(i,"max"))},null,8,["value","placeholder"])]),a("div",null,[a("div",ae,o(e(l)("quotaView.advance.axisSetting.yAxis.position")),1),u(e(N),{size:"small",value:e(s).position,"onUpdate:value":t[4]||(t[4]=i=>e(s).position=i),onChange:T,"button-style":"solid"},{default:f(()=>[u(e(S),{value:"left"},{default:f(()=>[V(o(e(l)("quotaView.advance.axisSetting.yAxis.left")),1)]),_:1}),u(e(S),{value:"right"},{default:f(()=>[V(o(e(l)("quotaView.advance.axisSetting.yAxis.right")),1)]),_:1})]),_:1},8,["value"])]),a("div",null,[a("div",ne,o(e(l)("quotaView.advance.axisSetting.yAxis.inverse")),1),u(e(U),{size:"small",checked:e(s).inverse,"onUpdate:checked":t[5]||(t[5]=i=>e(s).inverse=i)},null,8,["checked"])]),a("div",null,[a("div",le,o(e(l)("quotaView.advance.axisSetting.yAxis.showLine")),1),u(e(U),{size:"small",checked:e(s).axisLine.show,"onUpdate:checked":t[6]||(t[6]=i=>e(s).axisLine.show=i)},null,8,["checked"])]),a("div",null,[a("div",oe,o(e(l)("quotaView.advance.axisSetting.yAxis.magnitude")),1),u(e(J),{size:"small",class:"!w-59px !min-w-59px",min:0,value:c.value,"onUpdate:value":t[7]||(t[7]=i=>c.value=i)},null,8,["value"])]),a("div",null,[a("div",ue,o(e(l)("quotaView.advance.axisSetting.yAxis.offset")),1),u(e(j),{size:"small",class:"!w-38px !min-w-38px !mr-1",value:e(s).offset,"onUpdate:value":t[8]||(t[8]=i=>e(s).offset=i),onInput:t[9]||(t[9]=i=>y(i,"offset"))},null,8,["value"]),u(e(K),null,{title:f(()=>[a("span",null,o(e(l)("quotaView.advance.axisSetting.yAxis.offsetTip")),1)]),default:f(()=>[u(e(Z),{icon:"ant-design:question-circle-outlined"})]),_:1})]),a("div",de,[u(e(M),{size:"small",block:"",type:"primary",onClick:R},{default:f(()=>[V(o(e(l)("common.okText")),1)]),_:1})])])]),default:f(()=>[a("div",null,[X(n.$slots,"default")])]),_:3},16,["visible","placement"]))}});export{ve as _};
