var S=Object.defineProperty;var p=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var F=(e,o,t)=>o in e?S(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,m=(e,o)=>{for(var t in o||(o={}))T.call(o,t)&&F(e,t,o[t]);if(p)for(var t of p(o))I.call(o,t)&&F(e,t,o[t]);return e};import{b as y}from"./index.b82b58bf.js";import{r as v,j as r,u as s,D as w,F as x,G as E,L as j}from"./vendor.1ce5b3a9.js";var n;(function(e){e[e.LOGIN=0]="LOGIN",e[e.REGISTER=1]="REGISTER",e[e.RESET_PASSWORD=2]="RESET_PASSWORD",e[e.MOBILE=3]="MOBILE",e[e.QR_CODE=4]="QR_CODE"})(n||(n={}));const R=v(0);function G(){function e(c){R.value=c}const o=r(()=>R.value);function t(){e(0)}return{setLoginState:e,getLoginState:o,handleBackLogin:t}}function k(e){async function o(){const t=s(e);return t?await t.validate():void 0}return{validForm:o}}function N(e){const{t:o}=y(),t=r(()=>i(o("sys.login.accountPlaceholder"))),c=r(()=>i(o("sys.login.passwordPlaceholder"))),d=r(()=>i(o("sys.login.smsPlaceholder"))),f=r(()=>i(o("sys.login.captchaPlaceholder"))),_=r(()=>i(o("sys.login.mobilePlaceholder"))),P=async(l,a)=>a?Promise.resolve():Promise.reject(o("sys.login.policyPlaceholder")),h=l=>async(a,u)=>u?u!==l?Promise.reject(o("sys.login.diffPwd")):Promise.resolve():Promise.reject(o("sys.login.passwordPlaceholder"));return{getFormRules:r(()=>{const l=s(t),a=s(c),u=s(f),b=s(d),O=s(_),g={sms:b,mobile:O};switch(s(R)){case 1:return m({account:l,password:a,confirmPassword:[{validator:h(e==null?void 0:e.password),trigger:"change"}],policy:[{validator:P,trigger:"change"}]},g);case 2:return m({account:l},g);case 3:return g;default:return{account:l,password:a,captcha:u}}})}}function i(e){return[{required:!0,message:e,trigger:"change"}]}const B={class:"mb-3 text-2xl font-bold text-center xl:text-3xl enter-x xl:text-left"},C=w({setup(e){const{t:o}=y(),{getLoginState:t}=G(),c=r(()=>({[n.RESET_PASSWORD]:o("sys.login.forgetFormTitle"),[n.LOGIN]:o("sys.login.signInFormTitle"),[n.REGISTER]:o("sys.login.signUpFormTitle"),[n.MOBILE]:o("sys.login.mobileSignInFormTitle"),[n.QR_CODE]:o("sys.login.qrSignInFormTitle")})[s(t)]);return(d,f)=>(x(),E("h2",B,j(s(c)),1))}});var Q=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:C});export{n as L,C as _,N as a,k as b,Q as c,G as u};
