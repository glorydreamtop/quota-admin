import{f as i}from"./vendor.2e1d877b.js";import{a3 as e,a4 as t,f}from"./index.86e9d70c.js";const I=i({id:"app-lock",state:()=>({lockInfo:e.getLocal(t)}),getters:{getLockInfo(){return this.lockInfo}},actions:{setLockInfo(o){this.lockInfo=Object.assign({},this.lockInfo,o),e.setLocal(t,this.lockInfo,!0)},resetLockInfo(){e.removeLocal(t,!0),this.lockInfo=null},async unLock(o){var n;const s=f();return((n=this.lockInfo)==null?void 0:n.pwd)===o?(this.resetLockInfo(),!0):await(async()=>{var r;try{const c=(r=s.getUserInfo)==null?void 0:r.username,a=await s.login({username:c,password:o,goHome:!1,mode:"none"});return a&&this.resetLockInfo(),a}catch{return!1}})()}}});export{I as u};
