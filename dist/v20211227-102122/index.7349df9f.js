import{aw as T,a5 as I,_ as V,ab as p}from"./index.b82b58bf.js";import{D as C,r as E,R as M,j as l,u as n,V as $,a0 as j,a1 as L,v as u}from"./vendor.1ce5b3a9.js";const k={height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String],bench:{type:[Number,String],default:0},itemHeight:{type:[Number,String],required:!0},items:{type:Array,default:()=>[]}},m="virtual-scroll";function a(t,h="px"){if(!(t==null||t===""))return isNaN(+t)?String(t):`${Number(t)}${h}`}var F=C({name:"VirtualScroll",props:k,setup(t,{slots:h}){const c=E(null),r=M({first:0,last:0,scrollTop:0}),f=l(()=>parseInt(t.bench,10)),o=l(()=>parseInt(t.itemHeight,10)),g=l(()=>Math.max(0,r.first-n(f))),y=l(()=>Math.min((t.items||[]).length,r.last+n(f))),H=l(()=>({height:a((t.items||[]).length*n(o))})),w=l(()=>{const e={},i=a(t.height),s=a(t.minHeight),S=a(t.minWidth),b=a(t.maxHeight),v=a(t.maxWidth),x=a(t.width);return i&&(e.height=i),s&&(e.minHeight=s),S&&(e.minWidth=S),b&&(e.maxHeight=b),v&&(e.maxWidth=v),x&&(e.width=x),e});$([()=>t.itemHeight,()=>t.height],()=>{_()});function d(e){const i=n(c);if(!i)return 0;const s=parseInt(t.height||0,10)||i.clientHeight;return e+Math.ceil(s/n(o))}function N(){return Math.floor(r.scrollTop/n(o))}function _(){const e=n(c);!e||(r.scrollTop=e.scrollTop,r.first=N(),r.last=d(r.first))}function R(){const{items:e=[]}=t;return e.slice(n(g),n(y)).map(W)}function W(e,i){i+=n(g);const s=a(i*n(o));return u("div",{class:`${m}__item`,style:{top:s},key:i},[I(h,"default",{index:i,item:e})])}return j(()=>{r.last=d(0),L(()=>{const e=n(c);!e||T({el:e,name:"scroll",listener:_,wait:0})})}),()=>u("div",{class:m,style:n(w),ref:c},[u("div",{class:`${m}__container`,style:n(H)},[R()])])}});var q=V(F,[["__scopeId","data-v-0610daca"]]);const D=p(q);export{D as V};
