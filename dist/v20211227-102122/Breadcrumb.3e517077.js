var D=Object.defineProperty,S=Object.defineProperties;var G=Object.getOwnPropertyDescriptors;var $=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var P=(e,a,o)=>a in e?D(e,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[a]=o,_=(e,a)=>{for(var o in a||(a={}))L.call(a,o)&&P(e,o,a[o]);if($)for(var o of $(a))T.call(a,o)&&P(e,o,a[o]);return e},C=(e,a)=>S(e,G(a));import{D as V,cG as E,r as q,a as O,aq as x,a2 as k,F as f,G as M,v as z,a9 as N,a3 as j,ae as F,L as w,aU as K,N as U}from"./vendor.1ce5b3a9.js";/* empty css               */import{_ as H,I as J,p as Q,a as W,K as X,i as Y,b as Z,R as ee,G as te,m as ne,aN as ae,a9 as se}from"./index.b82b58bf.js";import"http://at.alicdn.com/t/font_2948274_sdqssf53jp.js";const re=V({name:"LayoutBreadcrumb",components:{Icon:J,[E.name]:E},props:{theme:Q.oneOf(["dark","light"])},setup(){const e=q([]),{currentRoute:a}=O(),{prefixCls:o}=W("layout-breadcrumb"),{getShowBreadCrumbIcon:I}=X(),d=Y(),{t:y}=Z();x(async()=>{var v,B,R;if(a.value.name===ee)return;const s=await te(),t=a.value.matched,n=t==null?void 0:t[t.length-1];let r=a.value.path;n&&((v=n==null?void 0:n.meta)==null?void 0:v.currentActiveMenu)&&(r=n.meta.currentActiveMenu);const c=ne(s,r),l=s.filter(A=>A.path===c[0]),i=m(l,c);if(!i||i.length===0)return;const b=p(i);((B=a.value.meta)==null?void 0:B.currentActiveMenu)&&b.push(C(_({},a.value),{name:((R=a.value.meta)==null?void 0:R.title)||a.value.name})),e.value=b});function m(s,t){const n=[];return s.forEach(r=>{var c,l;t.includes(r.path)&&n.push(C(_({},r),{name:((c=r.meta)==null?void 0:c.title)||r.name})),((l=r.children)==null?void 0:l.length)&&n.push(...m(r.children,t))}),n}function p(s){return ae(s,t=>{const{meta:n,name:r}=t;if(!n)return!!r;const{title:c,hideBreadcrumb:l}=n;return!(!c||l)}).filter(t=>{var n;return!((n=t.meta)==null?void 0:n.hideBreadcrumb)})}function h(s,t,n){n==null||n.preventDefault();const{children:r,redirect:c,meta:l}=s;if((r==null?void 0:r.length)&&!c){n==null||n.stopPropagation();return}if(!(l==null?void 0:l.carryParam))if(c&&se(c))d(c);else{let i="";t.length===1?i=t[0]:i=`${t.slice(1).pop()||""}`,i=/^\//.test(i)?i:`/${i}`,d(i)}}function u(s,t){return s.indexOf(t)!==s.length-1}function g(s){var t;return s.icon||((t=s.meta)==null?void 0:t.icon)}return{routes:e,t:y,prefixCls:o,getIcon:g,getShowBreadCrumbIcon:I,handleClick:h,hasRedirect:u}}}),oe={key:1};function ce(e,a,o,I,d,y){const m=k("Icon"),p=k("router-link"),h=k("a-breadcrumb");return f(),M("div",{class:U([e.prefixCls,`${e.prefixCls}--${e.theme}`])},[z(h,{routes:e.routes},{itemRender:N(({route:u,routes:g,paths:s})=>[e.getShowBreadCrumbIcon&&e.getIcon(u)?(f(),j(m,{key:0,icon:e.getIcon(u)},null,8,["icon"])):F("",!0),e.hasRedirect(g,u)?(f(),j(p,{key:2,to:"",onClick:t=>e.handleClick(u,s,t)},{default:N(()=>[K(w(e.t(u.name||u.meta.title)),1)]),_:2},1032,["onClick"])):(f(),M("span",oe,w(e.t(u.name||u.meta.title)),1))]),_:1},8,["routes"])],2)}var de=H(re,[["render",ce]]);export{de as default};
