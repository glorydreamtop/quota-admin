import{aw as T,a5 as I,_ as V,ab as p}from"./index.86e9d70c.js";import{D as C,r as E,R as M,j as l,u as n,V as $,a0 as j,a1 as L,v as u}from"./vendor.2e1d877b.js";const k={height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String],bench:{type:[Number,String],default:0},itemHeight:{type:[Number,String],required:!0},items:{type:Array,default:()=>[]}},m="virtual-scroll";function s(t,h="px"){if(!(t==null||t===""))return isNaN(+t)?String(t):`${Number(t)}${h}`}var F=C({name:"VirtualScroll",props:k,setup(t,{slots:h}){const c=E(null),r=M({first:0,last:0,scrollTop:0}),g=l(()=>parseInt(t.bench,10)),o=l(()=>parseInt(t.itemHeight,10)),f=l(()=>Math.max(0,r.first-n(g))),y=l(()=>Math.min((t.items||[]).length,r.last+n(g))),H=l(()=>({height:s((t.items||[]).length*n(o))})),w=l(()=>{const e={},i=s(t.height),a=s(t.minHeight),S=s(t.minWidth),v=s(t.maxHeight),b=s(t.maxWidth),x=s(t.width);return i&&(e.height=i),a&&(e.minHeight=a),S&&(e.minWidth=S),v&&(e.maxHeight=v),b&&(e.maxWidth=b),x&&(e.width=x),e});$([()=>t.itemHeight,()=>t.height],()=>{_()});function d(e){const i=n(c);if(!i)return 0;const a=parseInt(t.height||0,10)||i.clientHeight;return e+Math.ceil(a/n(o))}function N(){return Math.floor(r.scrollTop/n(o))}function _(){const e=n(c);!e||(r.scrollTop=e.scrollTop,r.first=N(),r.last=d(r.first))}function R(){const{items:e=[]}=t;return e.slice(n(f),n(y)).map(W)}function W(e,i){i+=n(f);const a=s(i*n(o));return u("div",{class:`${m}__item`,style:{top:a},key:i},[I(h,"default",{index:i,item:e})])}return j(()=>{r.last=d(0),L(()=>{const e=n(c);!e||T({el:e,name:"scroll",listener:_,wait:0})})}),()=>u("div",{class:m,style:n(w),ref:c},[u("div",{class:`${m}__container`,style:n(H)},[R()])])}});var q=V(F,[["__scopeId","data-v-dd7becb6"]]);const D=p(q);export{D as V};
